# / Part1 -- 工作阐述 / （2021-07-01 ~ 2022-01-14）

------

## 新手项目：复刻一个物理实验

##### 1.技术栈

vue2.0

##### 2.总结与收获

这个项目可以说是让我快速学会了vue，因为我以前是写React的，所以看着官方文档把新手任务做了，但是发现了相比于React，vue有啰嗦和别扭的地方，但幸好，后面的vue3.0的尝试让我对vue这个框架表示看好。



## 【一】精品同步课

##### 1.技术栈

前端框架选择：vue3.0

数据流管理：vuex 4+

页面缓存机制：vuex-persistedstate 4+

路由管理：vue-router 4+

通信：axios的自封装

##### 2.可复用的部分

（1）针对axios的自封装：通用请求数据处理的请求拦截器 + 可预期错误/不可预期 错误的响应拦截器

（2）轮播组件

轮播组件在后续的项目里多次被复用

（3）阿里播放器

后面有新来的同事正好碰到了要使用aliplayer，此模块的代码可以成功复用

##### 3.难点

需要根据复杂的数据结构判断应该渲染哪个组件

![截屏2022-01-10 下午3.14.58](/Users/guansiyu/Library/Application Support/typora-user-images/截屏2022-01-10 下午3.14.58.png)


为此我总结并画了一张图以便于以后接手这个项目的人理清思路：

![精品同步课xmind](/Users/guansiyu/Documents/精品同步课xmind.png)




##### 4.收获

独立探索了尤大在20年力推的vue3.0，相比新手项目用的2.0，3.0改动非常大但优势明显，代码更利于维护和封装。公司的所有项目都是2.0的，建议以后开新模块应该用3去写，好处多多。

规定了自己的代码风格约束：主要在几个方面：命名 目录层级规定 组件最多抽离到什么程度  数据怎么存 怎样控制数据的变化 等等。比如：整个页面视图以xxxPage为命名，需要分离组件则为文件夹，不分离则为文件，为文件夹则整个页面的主结构必须放在名为index.vue中，与之同级的，是这个页面抽离出的子组件。只有能复用的组件或全局页面组件才能放在Components目录中。所有的视图组件命名必须帕斯卡命名，数据流一律由store管理，路由一律由router管理，异步动作必须由action处理.....

⬆️ 之后的项目也全都是按照这些约定去写的



## 【二】局端的项目：课后托管服务平台

##### 1.技术栈

与上一个项目大相径庭，但是这回出于产品与ui框架的契合度考虑，我没有选择ElementUI（很不适合写局端的东西），最终使用了阿里的Antd，因为antd就是为管理平台而生，开箱即用很省心。

##### 2.可复用的部分

登陆认证 以后写这类的都可以直接来拷这部分代码

##### 3.难点与收获

这个项目其它部分都像流水账一样重复，但有一个问题就是：前端如何优雅的去处理根据角色的全线路由认证？

这里我使用了动态路由匹配，发现此招简直是好用：


![p2](/Users/guansiyu/Documents/ebag-workplace/2021-work-report/p2.png)






## 【三】11月份都在搞的阅卷助手

这个项目是前人留下的旧项目，搞了一个多月没改动，但是把Node里的fs模块和Electron学会了并手搭了一个桌面应用的demo：


![截屏2022-01-10 下午3.54.34](/Users/guansiyu/Library/Application Support/typora-user-images/截屏2022-01-10 下午3.54.34.png)





## [四] 智慧课堂5.0 桌面版

##### 1.技术栈

把前面几个能用的都用上了，并且把webpack换成了vite，vite的好处不言而喻，在ES6让web天生拥有用模块封装代码的能力后，vite在webpack的基础上很好的取其精华去其糟粕，在这个项目的vite.config文件里，可以更好的处理ui组件的按需加载。

##### 2.难点

微前端：目前我们只会使用iframe这么一个方法，而iframe弊端是它是与世隔绝的，如果与外部通信只能postMessage，当然我们第一版暂时采用了这个方式，这个方式是靠谱能用的。

##### 3.收获

还在开发中，但估计这个项目长期开发和维护下来，收获满满。



# / Part2 -- 工作不足（原因分析和措施） / 

------

## 

# / Part3 -- 未来展望 / 

------

## 【一】白板功能

白板功能是智慧课堂的重头戏，这个东西需要用Canvas去搞，在npm上还没有太好的开源库去用，但是我已经对此做出了一个demo：


![白板演示](/Users/guansiyu/Desktop/白板演示.gif)

可以进行画笔粗细调整：

 ![画笔大小](/Users/guansiyu/Desktop/画笔大小.gif)



还可以进行更改颜色：


![更改颜色](/Users/guansiyu/Desktop/更改颜色.gif)